<!doctype html>
<html lang="ru">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Media Viewer - wq308001</title>
  <style>
    body{font-family:Segoe UI,Arial,Helvetica,sans-serif;margin:0;background:#f5f5f5}
    .tabs{display:flex;background:#fff;border-bottom:2px solid #ddd;padding:0 18px}
    .tab{padding:12px 24px;cursor:pointer;border-bottom:3px solid transparent;margin-bottom:-2px;transition:all 0.3s}
    .tab:hover{background:#f0f0f0}
    .tab.active{border-bottom-color:#0066cc;color:#0066cc;font-weight:600}
    .content{padding:18px}
    .tab-content{display:none}
    .tab-content.active{display:block}
    h1{color:#333;margin-top:0}
    .item{margin-bottom:18px;padding:12px;border:1px solid #ddd;border-radius:8px;background:#fff;box-shadow:0 2px 4px rgba(0,0,0,0.1)}
    .meta{margin-bottom:8px;color:#666;font-size:14px}
    video{width:100%;max-width:720px;border-radius:6px;background:#000}
    a.link{display:inline-block;margin-left:10px;color:#0066cc;text-decoration:none}
    a.link:hover{text-decoration:underline}
    .grid{display:flex;flex-wrap:wrap;gap:12px}
    .card{width:200px;border:1px solid #ddd;padding:12px;border-radius:8px;text-align:center;background:#fff;box-shadow:0 2px 4px rgba(0,0,0,0.1)}
    .card img{max-width:100%;border-radius:6px;margin:8px 0}
    .card button{margin-top:6px;padding:8px 12px;background:#0066cc;color:#fff;border:none;border-radius:4px;cursor:pointer}
    .card button:hover{background:#0052a3}
    .card button:disabled{background:#ccc;cursor:not-allowed}
    .key-input{margin-bottom:16px;padding:12px;background:#fff;border-radius:8px;border:1px solid #ddd}
    .key-input label{display:block;margin-bottom:6px;font-weight:600}
    .key-input input{width:100%;max-width:400px;padding:8px;border:1px solid #ddd;border-radius:4px;font-family:monospace}
  </style>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/crypto-js/4.2.0/crypto-js.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/hls.js@1.5.1/dist/hls.min.js"></script>
</head>
<body>
  <div class="tabs">
    <div class="tab active" onclick="switchTab('videos')">üìπ –í–∏–¥–µ–æ</div>
    <div class="tab" onclick="switchTab('images')">üñºÔ∏è –§–æ—Ç–æ</div>
  </div>
  
  <div class="content">
    <div id="videos-tab" class="tab-content active">
      <h1>üìπ –í–∏–¥–µ–æ (GitHub: wq308001)</h1>
      <div id="videos-list">–ó–∞–≥—Ä—É–∑–∫–∞...</div>
    </div>
    
    <div id="images-tab" class="tab-content">
      <h1>üñºÔ∏è –ó–∞—à–∏—Ñ—Ä–æ–≤–∞–Ω–Ω—ã–µ —Ñ–æ—Ç–æ</h1>
      <div class="key-input">
        <label>–ö–ª—é—á —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏—è:</label>
        <input id="key" value="863740fe80b9d5f36e5b468fc442b0fa" placeholder="–í–≤–µ–¥–∏—Ç–µ hex –∫–ª—é—á">
      </div>
      <div id="images-list" class="grid">–ó–∞–≥—Ä—É–∑–∫–∞...</div>
    </div>
  </div>

  <script>
    // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —Ñ–ª–∞–≥–æ–≤
    window.videosLoaded = false;
    window.imagesLoaded = false;
    
    function switchTab(tabName) {
      // –ü–µ—Ä–µ–∫–ª—é—á–∞–µ–º –∞–∫—Ç–∏–≤–Ω—ã–µ —Ç–∞–±—ã
      document.querySelectorAll('.tab').forEach(t => t.classList.remove('active'));
      document.querySelectorAll('.tab-content').forEach(t => t.classList.remove('active'));
      
      // –ù–∞—Ö–æ–¥–∏–º –∏ –∞–∫—Ç–∏–≤–∏—Ä—É–µ–º –Ω—É–∂–Ω—ã–π —Ç–∞–±
      const tabs = document.querySelectorAll('.tab');
      tabs.forEach(t => {
        if((tabName === 'videos' && t.textContent.includes('–í–∏–¥–µ–æ')) || 
           (tabName === 'images' && t.textContent.includes('–§–æ—Ç–æ'))) {
          t.classList.add('active');
        }
      });
      
      document.getElementById(tabName + '-tab').classList.add('active');
      
      // –û–±–Ω–æ–≤–ª—è–µ–º hash –≤ URL
      window.location.hash = tabName === 'videos' ? '#video' : '#image';
      
      // –ó–∞–≥—Ä—É–∂–∞–µ–º –∫–æ–Ω—Ç–µ–Ω—Ç –µ—Å–ª–∏ –µ—â–µ –Ω–µ –∑–∞–≥—Ä—É–∂–µ–Ω
      if(tabName === 'videos' && !window.videosLoaded) {
        loadVideos();
        window.videosLoaded = true;
      } else if(tabName === 'images' && !window.imagesLoaded) {
        loadImages();
        window.imagesLoaded = true;
      }
    }
  </script>
  <script src="media.js"></script>
  <script>
    // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø–æ—Å–ª–µ –∑–∞–≥—Ä—É–∑–∫–∏ –≤—Å–µ—Ö —Å–∫—Ä–∏–ø—Ç–æ–≤
    window.addEventListener('DOMContentLoaded', () => {
      const hash = window.location.hash;
      if(hash === '#image') {
        switchTab('images');
      } else {
        // –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é –≤–∏–¥–µ–æ
        switchTab('videos');
      }
    });
  </script>
</body>
</html>
